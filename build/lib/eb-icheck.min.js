/* iCheck components for WireBootstrap (2019-03-27) (c) 2014 - 2019 Enterprise Blocks, Inc. License details : //cdn.wirebootstrap.com/libs/license/index.html */!function(){$.fn.ebIcheckList=function(a){function b(){f(function(){h.bindData(d)})}function c(){return{autoInit:!0,skin:"flat",color:"blue",colorLineUnChecked:null,style:{ul:"list-style:none;padding-inline-start:5px",li:"padding-bottom:10px"},events:{itemClick:{callback:null,dataevent:"dataselect"}}}}function d(){function a(a,c){var d=k&&j.colorLineUnChecked&&!c?j.colorLineUnChecked:j.color,e={checkboxClass:"icheckbox_{0}-{1}".format(j.skin,d),radioClass:"iradio_{0}-{1}".format(j.skin,d)};k&&(e.insert=f.line+"<span>label</span>"),a.iCheck(e).on("ifChecked",function(a){b(a,!0,this)}).on("ifUnchecked",function(a){b(a,!1,this)}),a.closest("li").find("span").text(a.val())}function b(b,e,f){k&&j.colorLineUnChecked&&a($(f),e);var l=$(f).val(),m=c.where().eq(d,l).first(),n=(new eb.data.DataEvent).source(g).cell(d,l).column(c.getColumn(d)).row(m).table(c),o="undefined"!=typeof m[i.selected];e?(o&&(m[i.selected]=!0),n.action().add()):(o&&(m[i.selected]=!1),n.action().remove());var p={base:b,data:n.getData()};if(j.events.itemClick.callback&&j.events.itemClick.callback(p),j.events.itemClick.dataevent&&n.event(j.events.itemClick.dataevent).element(h.ListenerId(j.events.itemClick.dataevent)).raise(),g.trigger("itemClick",p),c.__meta&&c.__meta.dataset)try{if(this.checked)c.__meta.dataset.Write&&c.__meta.dataset.write(m);else if(0!=c.__meta.dataset.Delete&&c.__meta.dataset.Write){var q=eb.data["delete"]().from(c.__meta.dataset.Query.Entities[0].Name).where().eq(d,l);c.__meta.dataset["delete"](q)}}catch(r){eb.ui.ErrorDialog(r)}}var c=h.data(),d=h.colId(i),f=e();g.empty();var l=$('<ul style="{0}">'.format(j.style.ul));g.append(l),c.Rows.forEach(function(b){var c=eb.toBoolean(b[i.selected],!1),e=$('<li style="{0}">'.format(j.style.li));l.append(e);var g=f.input.format(b[d],c?"checked":""),h=f.label.format("undefined"==typeof b[i.label]?b[i.name]:b[i.label]);e.append(g),k||e.append(h),a(e.find("input"),c)}),h.ready()}function e(){return{input:'<input type="checkbox" value="{0}" {1}>',label:'<label style="padding-left:10px">{0}</label>',line:'<div class="icheck_line-icon"></div>'}}function f(a){"undefined"==typeof $.fn.iCheck?(eb.loadCss({css:"https://cdn.wirebootstrap.com/libs/iCheck/skins/{0}/_all.css?skin={0}".format(j.skin),hidden:"eb-icheck-{0}-hidden".format(j.skin)}),eb.loadJs("https://cdn.wirebootstrap.com/libs/iCheck/js/1.0.2/icheck.min.js?v=1.0.2",a)):a()}var g=this;eb.ui.prependClass(g,"eb-icheck-list eb-plugin");var h=new eb.ui.Component(this,a,c(),(!0)),i=h.updateFieldSchema({id:"Id",name:"Name",label:"Label",selected:"Selected"}),j=h.config(),k="line"==j.skin;return this.getData=function(){return h.data()},this.config=function(){return j},this.databind=function(){d()},this.initialize=function(){return b(),this},j.autoInit&&b(),this}}(),function(){$.fn.ebIcheckFilter=function(a){function b(){d(function(){c()})}function c(){var a=i.updateFieldSchema({id:"Id",name:"Name"}),b=(i.data(),e()),c=0;f.empty();var d=j.searchTemplate||b.search;d=$(d),f.append($(b.row).append($(b.col).append(d))),d.find("input").keydown(function(b){clearTimeout(c);var d=$(this);c=setTimeout(function(){var b=j.data.Query.where().page(1),c=d.val();c.length>0&&b.contains(a.name,c),j.data.refresh()},500)}),f.find(".clear-search").click(function(a){d.find("input").val(""),j.data.Query.where().page(1),j.data.refresh()}),d.find("input").prop("placeholder","Search "+a.name),f.append($(b.row).append($(b.col).append(b.hr))),j.ebIcheckList.schema=j.schema,j.ebIcheckList.events.itemClick.callback=j.events.itemClick.callback,j.ebIcheckList.data=j.data,g=$(b.div).ebIcheckList(j.ebIcheckList),f.append($(b.row).append($(b.col).append(g))),f.append($(b.row).append(b.hr)),j.paging.data=j.data;var h=$(b.div).ebDatasetPaging(j.paging);f.append($(b.row).append($(b.col).append(h))),i.ready()}function d(a){"undefined"==typeof $.fn.ebDatasetPaging?eb.loadJs("https://cdn.wirebootstrap.com/libs/bootstrap/2.1.0/eb-bootstrap.min.js",a):a()}function e(){return{row:'<div class="row"></div>',col:'<div class="col-md-12"></div>',search:'<div class="input-group"><input placeholder="" class="form-control" /><span class="input-group-addon clear-search"><i class="fa fa-times"></i></span></div>',div:"<div></div>",hr:'<div class="eb-hr"></div>'}}var f=this;eb.ui.prependClass(f,"eb-icheck-filter eb-plugin");var g,h={autoInit:!0,events:{itemClick:{callback:null}},paging:{},ebIcheckList:{skin:"line",color:"green",colorLineUnChecked:"grey",style:{ul:"list-style:none;padding-inline-start:0px;padding-top:6px",li:" padding-bottom:4px"},events:{itemClick:{callback:null,dataevent:null}}}},i=new eb.ui.Component(this,a,h,(!0)),j=i.config();return this.getData=function(){return i.data()},this.config=function(){return j},this.databind=function(a){a&&i.data(a),c()},this.initialize=function(){return b(),this},this.pluginCheckbox=function(){return g},j.autoInit&&b(),this}}();